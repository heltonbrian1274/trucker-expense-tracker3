<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="description" content="Professional expense tracking for owner-operator truck drivers. Track expenses, manage receipts, and organize your finances with our secure, offline-capable Progressive Web App.">
    <meta name="keywords" content="trucker expenses, owner operator, truck driver, expense tracker, receipt management, trucking business, fleet management">
    <meta name="author" content="Trucker Expense Tracker">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://trucker-expense-tracker.vercel.app/">
    <meta property="og:title" content="Trucker Expense Tracker - Professional Expense Management for Owner-Operators">
    <meta property="og:description" content="Track expenses, manage receipts, and organize your trucking business finances with our secure, offline-capable Progressive Web App.">
    <meta property="og:image" content="https://trucker-expense-tracker.vercel.app/og-image.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://trucker-expense-tracker.vercel.app/">
    <meta property="twitter:title" content="Trucker Expense Tracker - Professional Expense Management for Owner-Operators">
    <meta property="twitter:description" content="Track expenses, manage receipts, and organize your trucking business finances with our secure, offline-capable Progressive Web App.">
    <meta property="twitter:image" content="https://trucker-expense-tracker.vercel.app/og-image.png">

    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob:; font-src 'self' data:; connect-src 'self' https://cdn.jsdelivr.net;">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="Cross-Origin-Opener-Policy" content="same-origin">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Trucker Expenses">
    
    <title>Trucker Expense Tracker - Professional Expense Management for Owner-Operators</title>
    
    <style>
        :root {
            --primary-color: #2563eb;
            --primary-dark: #1e40af;
            --secondary-color: #10b981;
            --accent-color: #f59e0b;
            --danger-color: #ef4444;
            --text-color: #1e293b;
            --text-light: #64748b;
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --border-color: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        [data-theme="dark"] {
            --primary-color: #3b82f6;
            --primary-dark: #2563eb;
            --secondary-color: #10b981;
            --accent-color: #f59e0b;
            --danger-color: #ef4444;
            --text-color: #f1f5f9;
            --text-light: #94a3b8;
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --border-color: #334155;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: var(--text-color);
            min-height: 100vh;
            padding: 20px;
            padding-bottom: 120px;
            transition: all 0.3s ease;
            touch-action: manipulation;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .section-title {
            font-size: 1.8rem;
            margin-bottom: 30px;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .expense-categories {
            display: grid;
            gap: 20px;
            margin-bottom: 30px;
        }

        .expense-card {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .expense-card:hover {
            border-color: var(--primary-color);
            box-shadow: var(--shadow);
        }

        .expense-card.expanded {
            border-color: var(--primary-color);
            box-shadow: var(--shadow-lg);
        }

        .expense-header {
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--text-color);
        }

        .expense-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
        }

        .expense-form {
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
            background: rgba(37, 99, 235, 0.02);
        }

        .expense-form.active {
            max-height: 1000px;
            padding: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-color);
            font-size: 0.9rem;
        }

        .input, .select, .textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            font-size: 1rem;
            background: var(--card-bg);
            color: var(--text-color);
            transition: all 0.3s ease;
        }

        .input:focus, .select:focus, .textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .textarea {
            resize: vertical;
            min-height: 80px;
        }

        .btn {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .receipt-upload {
            border: 2px dashed var(--border-color);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-light);
        }

        .receipt-upload:hover {
            border-color: var(--primary-color);
            background: rgba(37, 99, 235, 0.05);
        }

        .receipt-preview {
            margin-top: 10px;
        }

        .receipt-preview img {
            max-width: 100%;
            max-height: 200px;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }

        .summary-card {
            background: linear-gradient(135deg, var(--secondary-color), #059669);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .summary-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .summary-amount {
            font-weight: 700;
            font-size: 1.3rem;
        }

        .custom-category {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .custom-category h3 {
            margin-bottom: 20px;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .icon-picker {
            position: relative;
            margin-bottom: 20px;
        }

        .icon-button {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 12px 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.3s ease;
            color: var(--text-color);
        }

        .icon-button:hover {
            border-color: var(--primary-color);
        }

        .icon-list {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 100;
            display: none;
            box-shadow: var(--shadow-lg);
        }

        .icon-list.active {
            display: block;
        }

        .icon-option {
            padding: 12px 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            color: var(--text-color);
        }

        .icon-option:hover {
            background: rgba(37, 99, 235, 0.1);
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .action-btn {
            flex: 1;
            min-width: 120px;
            padding: 15px 20px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .export-btn {
            background: linear-gradient(135deg, var(--secondary-color), #059669);
            color: white;
        }

        .print-btn {
            background: linear-gradient(135deg, var(--accent-color), #d97706);
            color: white;
        }

        .csv-btn {
            background: linear-gradient(135deg, var(--secondary-color), #059669);
            color: white;
        }

        .feedback-btn {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            color: white;
        }

        .faq-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .privacy-notice {
            background: rgba(16, 185, 129, 0.1);
            border: 2px solid var(--secondary-color);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .privacy-notice h3 {
            color: var(--secondary-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .privacy-notice p {
            color: var(--text-color);
            line-height: 1.6;
        }

        .navigation {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--card-bg);
            border-top: 2px solid var(--border-color);
            padding: 15px;
            display: flex;
            justify-content: center;
            gap: 20px;
            box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .nav-btn {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: var(--text-color);
            min-width: 80px;
            text-align: center;
        }

        .nav-btn:hover {
            border-color: var(--primary-color);
            background: rgba(37, 99, 235, 0.05);
        }

        .nav-btn.active {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border-color: var(--primary-color);
        }

        .filter-section {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .filter-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .filter-row {
            display: grid;
            grid-template-columns: 1fr 1fr auto auto;
            gap: 15px;
            align-items: end;
        }

        .filter-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-btn.clear {
            background: linear-gradient(135deg, var(--secondary-color), #059669);
        }

        .filter-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .history-list {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            min-height: 200px;
        }

        .expense-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .expense-item:last-child {
            border-bottom: none;
        }

        .expense-details h4 {
            color: var(--text-color);
            margin-bottom: 5px;
        }

        .expense-details p {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .expense-amount {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .insight-card {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .insight-card:hover {
            border-color: var(--primary-color);
            box-shadow: var(--shadow);
        }

        .insight-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .insight-label {
            color: var(--text-light);
            font-weight: 600;
        }

        .chart-container {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            height: 400px;
        }

        .chart-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: var(--shadow-lg);
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-light);
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            color: var(--danger-color);
        }

        .faq-section {
            margin-bottom: 30px;
        }

        .faq-item {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            margin-bottom: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .faq-question {
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: var(--text-color);
            transition: all 0.3s ease;
        }

        .faq-question:hover {
            background: rgba(37, 99, 235, 0.05);
        }

        .faq-answer {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
            color: var(--text-light);
            line-height: 1.6;
        }

        .faq-item.active .faq-answer {
            padding: 0 20px 20px 20px;
            max-height: 500px;
        }

        .faq-toggle {
            font-size: 20px;
            transition: transform 0.3s ease;
        }

        .faq-item.active .faq-toggle {
            transform: rotate(180deg);
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
                padding-bottom: 100px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .content {
                padding: 20px;
            }

            .filter-row {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                flex-direction: column;
            }

            .action-btn {
                min-width: auto;
            }

            .insights-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }

            .navigation {
                gap: 10px;
                padding: 10px;
            }

            .nav-btn {
                min-width: 60px;
                padding: 8px 12px;
                font-size: 12px;
            }
        }

        @media print {
            body {
                background: white;
                color: black;
                padding: 0;
            }

            .navigation, .theme-toggle, .action-buttons {
                display: none !important;
            }

            .container {
                box-shadow: none;
                border-radius: 0;
            }

            .header {
                background: #2563eb;
                color: white;
            }

            .section:not(.active) {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">üåô</button>
            <h1>üöõ Trucker Expense Tracker</h1>
            <p>Professional expense management for owner-operators</p>
        </div>

        <div class="content">
            <!-- Today Section -->
            <div id="today" class="section active">
                <h2 class="section-title">üìÖ Log your expenses for today</h2>
                
                <div class="expense-categories">
                    <div class="expense-card">
                        <div class="expense-header" onclick="toggleExpenseForm('fuel')">
                            <div class="expense-icon">‚õΩ</div>
                            <span>Fuel</span>
                        </div>
                        <div id="fuel-form" class="expense-form" onclick="event.stopPropagation()">
                            <div class="form-group">
                                <label class="label">Amount ($)</label>
                                <input type="number" class="input" step="0.01" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label class="label">Location</label>
                                <input type="text" class="input" placeholder="Gas station name or location">
                            </div>
                            <div class="form-group">
                                <label class="label">Gallons</label>
                                <input type="number" class="input" step="0.01" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label class="label">Notes</label>
                                <textarea class="textarea" placeholder="Additional notes..."></textarea>
                            </div>
                            <div class="form-group">
                                <label class="label">Receipt</label>
                                <div class="receipt-upload" onclick="document.getElementById('fuel-receipt').click()">
                                    <p>üì∑ Click to upload receipt</p>
                                    <input type="file" id="fuel-receipt" accept="image/*" style="display: none;" onchange="handleReceiptUpload(this, 'fuel-preview')">
                                </div>
                                <div id="fuel-preview" class="receipt-preview"></div>
                            </div>
                            <button class="btn" onclick="saveExpense('fuel')">üíæ Save Expense</button>
                        </div>
                    </div>

                    <div class="expense-card">
                        <div class="expense-header" onclick="toggleExpenseForm('maintenance')">
                            <div class="expense-icon">üîß</div>
                            <span>Maintenance & Repairs</span>
                        </div>
                        <div id="maintenance-form" class="expense-form" onclick="event.stopPropagation()">
                            <div class="form-group">
                                <label class="label">Amount ($)</label>
                                <input type="number" class="input" step="0.01" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label class="label">Service Provider</label>
                                <input type="text" class="input" placeholder="Shop name or location">
                            </div>
                            <div class="form-group">
                                <label class="label">Service Type</label>
                                <select class="select">
                                    <option>Oil Change</option>
                                    <option>Tire Repair/Replacement</option>
                                    <option>Brake Service</option>
                                    <option>Engine Repair</option>
                                    <option>Transmission Service</option>
                                    <option>Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="label">Notes</label>
                                <textarea class="textarea" placeholder="Additional notes..."></textarea>
                            </div>
                            <div class="form-group">
                                <label class="label">Receipt</label>
                                <div class="receipt-upload" onclick="document.getElementById('maintenance-receipt').click()">
                                    <p>üì∑ Click to upload receipt</p>
                                    <input type="file" id="maintenance-receipt" accept="image/*" style="display: none;" onchange="handleReceiptUpload(this, 'maintenance-preview')">
                                </div>
                                <div id="maintenance-preview" class="receipt-preview"></div>
                            </div>
                            <button class="btn" onclick="saveExpense('maintenance')">üíæ Save Expense</button>
                        </div>
                    </div>

                    <div class="expense-card">
                        <div class="expense-header" onclick="toggleExpenseForm('truck-payments')">
                            <div class="expense-icon">üöö</div>
                            <span>Truck/Trailer Payments or Lease</span>
                        </div>
                        <div id="truck-payments-form" class="expense-form" onclick="event.stopPropagation()">
                            <div class="form-group">
                                <label class="label">Amount ($)</label>
                                <input type="number" class="input" step="0.01" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label class="label">Payment Type</label>
                                <select class="select">
                                    <option>Truck Payment</option>
                                    <option>Trailer Payment</option>
                                    <option>Lease Payment</option>
                                    <option>Down Payment</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="label">Lender/Lessor</label>
                                <input type="text" class="input" placeholder="Bank or leasing company">
                            </div>
                            <div class="form-group">
                                <label class="label">Notes</label>
                                <textarea class="textarea" placeholder="Additional notes..."></textarea>
                            </div>
                            <div class="form-group">
                                <label class="label">Receipt</label>
                                <div class="receipt-upload" onclick="document.getElementById('truck-payments-receipt').click()">
                                    <p>üì∑ Click to upload receipt</p>
                                    <input type="file" id="truck-payments-receipt" accept="image/*" style="display: none;" onchange="handleReceiptUpload(this, 'truck-payments-preview')">
                                </div>
                                <div id="truck-payments-preview" class="receipt-preview"></div>
                            </div>
                            <button class="btn" onclick="saveExpense('truck-payments')">üíæ Save Expense</button>
                        </div>
                    </div>

                    <div class="expense-card">
                        <div class="expense-header" onclick="toggleExpenseForm('insurance')">
                            <div class="expense-icon">üõ°Ô∏è</div>
                            <span>Insurance Premiums</span>
                        </div>
                        <div id="insurance-form" class="expense-form" onclick="event.stopPropagation()">
                            <div class="form-group">
                                <label class="label">Amount ($)</label>
                                <input type="number" class="input" step="0.01" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label class="label">Insurance Type</label>
                                <select class="select">
                                    <option>Liability Insurance</option>
                                    <option>Physical Damage Insurance</option>
                                    <option>Cargo Insurance</option>
                                    <option>General Liability</option>
                                    <option>Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="label">Insurance Company</label>
                                <input type="text" class="input" placeholder="Insurance provider">
                            </div>
                            <div class="form-group">
                                <label class="label">Notes</label>
                                <textarea class="textarea" placeholder="Additional notes..."></textarea>
                            </div>
                            <div class="form-group">
                                <label class="label">Receipt</label>
                                <div class="receipt-upload" onclick="document.getElementById('insurance-receipt').click()">
                                    <p>üì∑ Click to upload receipt</p>
                                    <input type="file" id="insurance-receipt" accept="image/*" style="display: none;" onchange="handleReceiptUpload(this, 'insurance-preview')">
                                </div>
                                <div id="insurance-preview" class="receipt-preview"></div>
                            </div>
                            <button class="btn" onclick="saveExpense('insurance')">üíæ Save Expense</button>
                        </div>
                    </div>

                    <div class="expense-card">
                        <div class="expense-header" onclick="toggleExpenseForm('licensing')">
                            <div class="expense-icon">üìú</div>
                            <span>Licensing, Registration & Permits</span>
                        </div>
                        <div id="licensing-form" class="expense-form" onclick="event.stopPropagation()">
                            <div class="form-group">
                                <label class="label">Amount ($)</label>
                                <input type="number" class="input" step="0.01" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label class="label">License/Permit Type</label>
                                <select class="select">
                                    <option>CDL Renewal</option>
                                    <option>Vehicle Registration</option>
                                    <option>Operating Permit</option>
                                    <option>DOT Number</option>
                                    <option>Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="label">Issuing Authority</label>
                                <input type="text" class="input" placeholder="DMV, DOT, etc.">
                            </div>
                            <div class="form-group">
                                <label class="label">Notes</label>
                                <textarea class="textarea" placeholder="Additional notes..."></textarea>
                            </div>
                            <div class="form-group">
                                <label class="label">Receipt</label>
                                <div class="receipt-upload" onclick="document.getElementById('licensing-receipt').click()">
                                    <p>üì∑ Click to upload receipt</p>
                                    <input type="file" id="licensing-receipt" accept="image/*" style="display: none;" onchange="handleReceiptUpload(this, 'licensing-preview')">
                                </div>
                                <div id="licensing-preview" class="receipt-preview"></div>
                            </div>
                            <button class="btn" onclick="saveExpense('licensing')">üíæ Save Expense</button>
                        </div>
                    </div>

                    <div class="expense-card">
                        <div class="expense-header" onclick="toggleExpenseForm('tolls')">
                            <div class="expense-icon">üõ£Ô∏è</div>
                            <span>Tolls & Parking Fees</span>
                        </div>
                        <div id="tolls-form" class="expense-form" onclick="event.stopPropagation()">
                            <div class="form-group">
                                <label class="label">Amount ($)</label>
                                <input type="number" class="input" step="0.01" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label class="label">Location</label>
                                <input type="text" class="input" placeholder="Toll road or parking location">
                            </div>
                            <div class="form-group">
                                <label class="label">Type</label>
                                <select class="select">
                                    <option>Toll Road</option>
                                    <option>Bridge Toll</option>
                                    <option>Parking Fee</option>
                                    <option>Weigh Station</option>
                                    <option>Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="label">Notes</label>
                                <textarea class="textarea" placeholder="Additional notes..."></textarea>
                            </div>
                            <div class="form-group">
                                <label class="label">Receipt</label>
                                <div class="receipt-upload" onclick="document.getElementById('tolls-receipt').click()">
                                    <p>üì∑ Click to upload receipt</p>
                                    <input type="file" id="tolls-receipt" accept="image/*" style="display: none;" onchange="handleReceiptUpload(this, 'tolls-preview')">
                                </div>
                                <div id="tolls-preview" class="receipt-preview"></div>
                            </div>
                            <button class="btn" onclick="saveExpense('tolls')">üíæ Save Expense</button>
                        </div>
                    </div>

                    <div class="expense-card">
                        <div class="expense-header" onclick="toggleExpenseForm('lodging')">
                            <div class="expense-icon">üõèÔ∏è</div>
                            <span>Lodging</span>
                        </div>
                        <div id="lodging-form" class="expense-form" onclick="event.stopPropagation()">
                            <div class="form-group">
                                <label class="label">Amount ($)</label>
                                <input type="number" class="input" step="0.01" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label class="label">Hotel/Motel Name</label>
                                <input type="text" class="input" placeholder="Accommodation name">
                            </div>
                            <div class="form-group">
                                <label class="label">Location</label>
                                <input type="text" class="input" placeholder="City, State">
                            </div>
                            <div class="form-group">
                                <label class="label">Check-in Date</label>
                                <input type="date" class="input">
                            </div>
                            <div class="form-group">
                                <label class="label">Notes</label>
                                <textarea class="textarea" placeholder="Additional notes..."></textarea>
                            </div>
                            <div class="form-group">
                                <label class="label">Receipt</label>
                                <div class="receipt-upload" onclick="document.getElementById('lodging-receipt').click()">
                                    <p>üì∑ Click to upload receipt</p>
                                    <input type="file" id="lodging-receipt" accept="image/*" style="display: none;" onchange="handleReceiptUpload(this, 'lodging-preview')">
                                </div>
                                <div id="lodging-preview" class="receipt-preview"></div>
                            </div>
                            <button class="btn" onclick="saveExpense('lodging')">üíæ Save Expense</button>
                        </div>
                    </div>

                    <div class="expense-card">
                        <div class="expense-header" onclick="toggleExpenseForm('meals')">
                            <div class="expense-icon">üçΩÔ∏è</div>
                            <span>Meals</span>
                        </div>
                        <div id="meals-form" class="expense-form" onclick="event.stopPropagation()">
                            <div class="form-group">
                                <label class="label">Amount ($)</label>
                                <input type="number" class="input" step="0.01" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label class="label">Restaurant/Location</label>
                                <input type="text" class="input" placeholder="Restaurant name or location">
                            </div>
                            <div class="form-group">
                                <label class="label">Meal Type</label>
                                <select class="select">
                                    <option>Breakfast</option>
                                    <option>Lunch</option>
                                    <option>Dinner</option>
                                    <option>Snack</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="label">Notes</label>
                                <textarea class="textarea" placeholder="Additional notes..."></textarea>
                            </div>
                            <div class="form-group">
                                <label class="label">Receipt</label>
                                <div class="receipt-upload" onclick="document.getElementById('meals-receipt').click()">
                                    <p>üì∑ Click to upload receipt</p>
                                    <input type="file" id="meals-receipt" accept="image/*" style="display: none;" onchange="handleReceiptUpload(this, 'meals-preview')">
                                </div>
                                <div id="meals-preview" class="receipt-preview"></div>
                            </div>
                            <button class="btn" onclick="saveExpense('meals')">üíæ Save Expense</button>
                        </div>
                    </div>

                    <div class="expense-card">
                        <div class="expense-header" onclick="toggleExpenseForm('communication')">
                            <div class="expense-icon">üì±</div>
                            <span>Communication & Technology</span>
                        </div>
                        <div id="communication-form" class="expense-form" onclick="event.stopPropagation()">
                            <div class="form-group">
                                <label class="label">Amount ($)</label>
                                <input type="number" class="input" step="0.01" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label class="label">Service Type</label>
                                <select class="select">
                                    <option>Cell Phone Bill</option>
                                    <option>Internet Service</option>
                                    <option>GPS/Navigation</option>
                                    <option>CB Radio</option>
                                    <option>Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="label">Provider</label>
                                <input type="text" class="input" placeholder="Service provider">
                            </div>
                            <div class="form-group">
                                <label class="label">Notes</label>
                                <textarea class="textarea" placeholder="Additional notes..."></textarea>
                            </div>
                            <div class="form-group">
                                <label class="label">Receipt</label>
                                <div class="receipt-upload" onclick="document.getElementById('communication-receipt').click()">
                                    <p>üì∑ Click to upload receipt</p>
                                    <input type="file" id="communication-receipt" accept="image/*" style="display: none;" onchange="handleReceiptUpload(this, 'communication-preview')">
                                </div>
                                <div id="communication-preview" class="receipt-preview"></div>
                            </div>
                            <button class="btn" onclick="saveExpense('communication')">üíæ Save Expense</button>
                        </div>
                    </div>

                    <div class="expense-card">
                        <div class="expense-header" onclick="toggleExpenseForm('office-supplies')">
                            <div class="expense-icon">üìù</div>
                            <span>Office Supplies & Subscriptions</span>
                        </div>
                        <div id="office-supplies-form" class="expense-form" onclick="event.stopPropagation()">
                            <div class="form-group">
                                <label class="label">Amount ($)</label>
                                <input type="number" class="input" step="0.01" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label class="label">Item/Service</label>
                                <input type="text" class="input" placeholder="Office supplies or subscription">
                            </div>
                            <div class="form-group">
                                <label class="label">Vendor</label>
                                <input type="text" class="input" placeholder="Store or service provider">
                            </div>
                            <div class="form-group">
                                <label class="label">Notes</label>
                                <textarea class="textarea" placeholder="Additional notes..."></textarea>
                            </div>
                            <div class="form-group">
                                <label class="label">Receipt</label>
                                <div class="receipt-upload" onclick="document.getElementById('office-supplies-receipt').click()">
                                    <p>üì∑ Click to upload receipt</p>
                                    <input type="file" id="office-supplies-receipt" accept="image/*" style="display: none;" onchange="handleReceiptUpload(this, 'office-supplies-preview')">
                                </div>
                                <div id="office-supplies-preview" class="receipt-preview"></div>
                            </div>
                            <button class="btn" onclick="saveExpense('office-supplies')">üíæ Save Expense</button>
                        </div>
                    </div>

                    <div class="expense-card">
                        <div class="expense-header" onclick="toggleExpenseForm('truck-supplies')">
                            <div class="expense-icon">üß∞</div>
                            <span>Truck Supplies & Safety Gear</span>
                        </div>
                        <div id="truck-supplies-form" class="expense-form" onclick="event.stopPropagation()">
                            <div class="form-group">
                                <label class="label">Amount ($)</label>
                                <input type="number" class="input" step="0.01" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label class="label">Item Type</label>
                                <select class="select">
                                    <option>Safety Equipment</option>
                                    <option>Tools</option>
                                    <option>Cleaning Supplies</option>
                                    <option>Truck Accessories</option>
                                    <option>Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="label">Vendor</label>
                                <input type="text" class="input" placeholder="Store or supplier">
                            </div>
                            <div class="form-group">
                                <label class="label">Notes</label>
                                <textarea class="textarea" placeholder="Additional notes..."></textarea>
                            </div>
                            <div class="form-group">
                                <label class="label">Receipt</label>
                                <div class="receipt-upload" onclick="document.getElementById('truck-supplies-receipt').click()">
                                    <p>üì∑ Click to upload receipt</p>
                                    <input type="file" id="truck-supplies-receipt" accept="image/*" style="display: none;" onchange="handleReceiptUpload(this, 'truck-supplies-preview')">
                                </div>
                                <div id="truck-supplies-preview" class="receipt-preview"></div>
                            </div>
                            <button class="btn" onclick="saveExpense('truck-supplies')">üíæ Save Expense</button>
                        </div>
                    </div>

                    <div class="expense-card">
                        <div class="expense-header" onclick="toggleExpenseForm('association-dues')">
                            <div class="expense-icon">ü§ù</div>
                            <span>Association Dues</span>
                        </div>
                        <div id="association-dues-form" class="expense-form" onclick="event.stopPropagation()">
                            <div class="form-group">
                                <label class="label">Amount ($)</label>
                                <input type="number" class="input" step="0.01" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label class="label">Association Name</label>
                                <input type="text" class="input" placeholder="Professional association or union">
                            </div>
                            <div class="form-group">
                                <label class="label">Membership Type</label>
                                <select class="select">
                                    <option>Annual Dues</option>
                                    <option>Monthly Dues</option>
                                    <option>Initiation Fee</option>
                                    <option>Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="label">Notes</label>
                                <textarea class="textarea" placeholder="Additional notes..."></textarea>
                            </div>
                            <div class="form-group">
                                <label class="label">Receipt</label>
                                <div class="receipt-upload" onclick="document.getElementById('association-dues-receipt').click()">
                                    <p>üì∑ Click to upload receipt</p>
                                    <input type="file" id="association-dues-receipt" accept="image/*" style="display: none;" onchange="handleReceiptUpload(this, 'association-dues-preview')">
                                </div>
                                <div id="association-dues-preview" class="receipt-preview"></div>
                            </div>
                            <button class="btn" onclick="saveExpense('association-dues')">üíæ Save Expense</button>
                        </div>
                    </div>

                    <div class="expense-card">
                        <div class="expense-header" onclick="toggleExpenseForm('taxes')">
                            <div class="expense-icon">üí∏</div>
                            <span>Taxes Paid</span>
                        </div>
                        <div id="taxes-form" class="expense-form" onclick="event.stopPropagation()">
                            <div class="form-group">
                                <label class="label">Amount ($)</label>
                                <input type="number" class="input" step="0.01" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label class="label">Tax Type</label>
                                <select class="select">
                                    <option>Quarterly Estimated Tax</option>
                                    <option>State Tax</option>
                                    <option>Local Tax</option>
                                    <option>Property Tax</option>
                                    <option>Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="label">Tax Authority</label>
                                <input type="text" class="input" placeholder="IRS, State, Local">
                            </div>
                            <div class="form-group">
                                <label class="label">Notes</label>
                                <textarea class="textarea" placeholder="Additional notes..."></textarea>
                            </div>
                            <div class="form-group">
                                <label class="label">Receipt</label>
                                <div class="receipt-upload" onclick="document.getElementById('taxes-receipt').click()">
                                    <p>üì∑ Click to upload receipt</p>
                                    <input type="file" id="taxes-receipt" accept="image/*" style="display: none;" onchange="handleReceiptUpload(this, 'taxes-preview')">
                                </div>
                                <div id="taxes-preview" class="receipt-preview"></div>
                            </div>
                            <button class="btn" onclick="saveExpense('taxes')">üíæ Save Expense</button>
                        </div>
                    </div>

                    <div class="expense-card">
                        <div class="expense-header" onclick="toggleExpenseForm('medical')">
                            <div class="expense-icon">ü©∫</div>
                            <span>Medical Exams</span>
                        </div>
                        <div id="medical-form" class="expense-form" onclick="event.stopPropagation()">
                            <div class="form-group">
                                <label class="label">Amount ($)</label>
                                <input type="number" class="input" step="0.01" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label class="label">Exam Type</label>
                                <select class="select">
                                    <option>DOT Physical</option>
                                    <option>Drug Test</option>
                                    <option>Vision Test</option>
                                    <option>Other Medical Exam</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="label">Medical Provider</label>
                                <input type="text" class="input" placeholder="Doctor or clinic name">
                            </div>
                            <div class="form-group">
                                <label class="label">Notes</label>
                                <textarea class="textarea" placeholder="Additional notes..."></textarea>
                            </div>
                            <div class="form-group">
                                <label class="label">Receipt</label>
                                <div class="receipt-upload" onclick="document.getElementById('medical-receipt').click()">
                                    <p>üì∑ Click to upload receipt</p>
                                    <input type="file" id="medical-receipt" accept="image/*" style="display: none;" onchange="handleReceiptUpload(this, 'medical-preview')">
                                </div>
                                <div id="medical-preview" class="receipt-preview"></div>
                            </div>
                            <button class="btn" onclick="saveExpense('medical')">üíæ Save Expense</button>
                        </div>
                    </div>
                </div>

                <!-- Custom Category Section -->
                <div class="custom-category">
                    <h3>‚ûï Add New Category</h3>
                    <div class="form-group">
                        <label class="label">Category Name</label>
                        <input type="text" id="custom-category-name" class="input" placeholder="Enter category name">
                    </div>
                    <div class="form-group">
                        <label class="label">Icon</label>
                        <div class="icon-picker">
                            <div class="icon-button" onclick="toggleIconList()">
                                <span id="selected-icon">üì¶ Click to choose an icon</span>
                                <span>‚ñº</span>
                            </div>
                            <div id="icon-list" class="icon-list">
                                <div class="icon-option" onclick="selectIcon('', 'No Icon')">
                                    <span>‚ùå</span>
                                    <span>No Icon</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('‚õΩ', 'Fuel')">
                                    <span>‚õΩ</span>
                                    <span>Fuel</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üîß', 'Maintenance')">
                                    <span>üîß</span>
                                    <span>Maintenance</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üöö', 'Truck')">
                                    <span>üöö</span>
                                    <span>Truck</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üõ°Ô∏è', 'Insurance')">
                                    <span>üõ°Ô∏è</span>
                                    <span>Insurance</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üìú', 'Documents')">
                                    <span>üìú</span>
                                    <span>Documents</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üõ£Ô∏è', 'Road')">
                                    <span>üõ£Ô∏è</span>
                                    <span>Road</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üõèÔ∏è', 'Lodging')">
                                    <span>üõèÔ∏è</span>
                                    <span>Lodging</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üçΩÔ∏è', 'Food')">
                                    <span>üçΩÔ∏è</span>
                                    <span>Food</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üì±', 'Technology')">
                                    <span>üì±</span>
                                    <span>Technology</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üìù', 'Office')">
                                    <span>üìù</span>
                                    <span>Office</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üß∞', 'Tools')">
                                    <span>üß∞</span>
                                    <span>Tools</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('ü§ù', 'Association')">
                                    <span>ü§ù</span>
                                    <span>Association</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üí∏', 'Money')">
                                    <span>üí∏</span>
                                    <span>Money</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('ü©∫', 'Medical')">
                                    <span>ü©∫</span>
                                    <span>Medical</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üì¶', 'Package')">
                                    <span>üì¶</span>
                                    <span>Package</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üè™', 'Store')">
                                    <span>üè™</span>
                                    <span>Store</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('‚öôÔ∏è', 'Settings')">
                                    <span>‚öôÔ∏è</span>
                                    <span>Settings</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üíº', 'Business')">
                                    <span>üíº</span>
                                    <span>Business</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üéØ', 'Target')">
                                    <span>üéØ</span>
                                    <span>Target</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üìä', 'Chart')">
                                    <span>üìä</span>
                                    <span>Chart</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üîí', 'Security')">
                                    <span>üîí</span>
                                    <span>Security</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üåü', 'Star')">
                                    <span>üåü</span>
                                    <span>Star</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üé®', 'Art')">
                                    <span>üé®</span>
                                    <span>Art</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üèÜ', 'Trophy')">
                                    <span>üèÜ</span>
                                    <span>Trophy</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üî•', 'Fire')">
                                    <span>üî•</span>
                                    <span>Fire</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üí°', 'Idea')">
                                    <span>üí°</span>
                                    <span>Idea</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üöÄ', 'Rocket')">
                                    <span>üöÄ</span>
                                    <span>Rocket</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('‚≠ê', 'Star2')">
                                    <span>‚≠ê</span>
                                    <span>Star</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üé™', 'Circus')">
                                    <span>üé™</span>
                                    <span>Circus</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üé≠', 'Theater')">
                                    <span>üé≠</span>
                                    <span>Theater</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üéÆ', 'Gaming')">
                                    <span>üéÆ</span>
                                    <span>Gaming</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üé≤', 'Dice')">
                                    <span>üé≤</span>
                                    <span>Dice</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üé∏', 'Music')">
                                    <span>üé∏</span>
                                    <span>Music</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üé¨', 'Movie')">
                                    <span>üé¨</span>
                                    <span>Movie</span>
                                </div>
                                <div class="icon-option" onclick="selectIcon('üé§', 'Microphone')">
                                    <span>üé§</span>
                                    <span>Microphone</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="label">Default Cost Type</label>
                        <select id="custom-cost-type" class="select">
                            <option value="Variable">Variable</option>
                            <option value="Fixed">Fixed</option>
                        </select>
                    </div>
                    <button class="btn" onclick="addCustomCategory()">Add Category</button>
                </div>

                <!-- Summary Section -->
                <div class="summary-card">
                    <div class="summary-title">üìä Today's Summary</div>
                    <div class="summary-item">
                        <span>Total Daily Expenses:</span>
                        <span id="daily-total" class="summary-amount">$0.00</span>
                    </div>
                    <div class="summary-item">
                        <span>Total Expenses:</span>
                        <span id="total-expenses" class="summary-amount">$0.00</span>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="action-btn export-btn" onclick="exportToPDF('today')">üìÑ Export PDF</button>
                    <button class="action-btn print-btn" onclick="printSection('today')">üñ®Ô∏è Print</button>
                    <button class="action-btn csv-btn" onclick="exportToCSV('today')">üìä Export CSV</button>
                    <button class="action-btn feedback-btn" onclick="showFeedbackModal()">üí¨ Feedback</button>
                    <button class="action-btn faq-btn" onclick="showFAQModal()">‚ùì FAQ</button>
                </div>

                <!-- Privacy Notice -->
                <div class="privacy-notice">
                    <h3>üîí Privacy & Data Security</h3>
                    <p>Your expense data is stored securely on your device only. We never collect, transmit, or store your personal information on external servers. Your privacy is our priority.</p>
                </div>
            </div>

            <!-- History Section -->
            <div id="history" class="section">
                <h2 class="section-title">üìö Expense History</h2>
                
                <div class="filter-section">
                    <div class="filter-title">üîç Filter Expenses</div>
                    <div class="filter-row">
                        <div class="form-group">
                            <label class="label">From Date</label>
                            <input type="date" id="filter-from" class="input">
                        </div>
                        <div class="form-group">
                            <label class="label">To Date</label>
                            <input type="date" id="filter-to" class="input">
                        </div>
                        <button class="filter-btn" onclick="applyHistoryFilter()">Apply</button>
                        <button class="filter-btn clear" onclick="clearHistoryFilter()">Clear</button>
                    </div>
                </div>

                <div id="history-list" class="history-list">
                    <p style="text-align: center; color: var(--text-light); padding: 40px;">No expenses recorded yet.</p>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="action-btn export-btn" onclick="exportToPDF('history')">üìÑ Export PDF</button>
                    <button class="action-btn print-btn" onclick="printSection('history')">üñ®Ô∏è Print</button>
                    <button class="action-btn csv-btn" onclick="exportToCSV('history')">üìä Export CSV</button>
                </div>
            </div>

            <!-- Insights Section -->
            <div id="insights" class="section">
                <h2 class="section-title">üìà Expense Insights</h2>
                
                <div class="filter-section">
                    <div class="filter-title">üîç Filter Insights</div>
                    <div class="filter-row">
                        <div class="form-group">
                            <label class="label">From Date</label>
                            <input type="date" id="insights-filter-from" class="input">
                        </div>
                        <div class="form-group">
                            <label class="label">To Date</label>
                            <input type="date" id="insights-filter-to" class="input">
                        </div>
                        <button class="filter-btn" onclick="applyInsightsFilter()">Apply</button>
                        <button class="filter-btn clear" onclick="clearInsightsFilter()">Clear</button>
                    </div>
                </div>

                <div class="insights-grid">
                    <div class="insight-card">
                        <div id="insights-total" class="insight-value">$0.00</div>
                        <div class="insight-label">Total Expenses</div>
                    </div>
                    <div class="insight-card">
                        <div id="insights-average" class="insight-value">$0.00</div>
                        <div class="insight-label">Daily Average</div>
                    </div>
                    <div class="insight-card">
                        <div id="insights-fixed" class="insight-value">$0.00</div>
                        <div class="insight-label">Fixed Costs</div>
                    </div>
                    <div class="insight-card">
                        <div id="insights-variable" class="insight-value">$0.00</div>
                        <div class="insight-label">Variable Costs</div>
                    </div>
                </div>

                <div class="chart-container">
                    <div class="chart-title">üìä Expense Breakdown</div>
                    <canvas id="expense-chart"></canvas>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="action-btn export-btn" onclick="exportToPDF('insights')">üìÑ Export PDF</button>
                    <button class="action-btn print-btn" onclick="printSection('insights')">üñ®Ô∏è Print</button>
                    <button class="action-btn csv-btn" onclick="exportToCSV('insights')">üìä Export CSV</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <div class="navigation">
        <button class="nav-btn active" onclick="showSection('today')">üìÖ Today</button>
        <button class="nav-btn" onclick="showSection('history')">üìö History</button>
        <button class="nav-btn" onclick="showSection('insights')">üìà Insights</button>
    </div>

    <!-- Feedback Modal -->
    <div id="feedback-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeFeedbackModal()">√ó</button>
            <h2>üí¨ Feedback & Support</h2>
            <p>We value your feedback! Please reach out to us:</p>
            <ul style="margin: 20px 0; padding-left: 20px; color: var(--text-color);">
                <li><strong>Email:</strong> support@truckerexpensetracker.com</li>
                <li><strong>Feature Requests:</strong> features@truckerexpensetracker.com</li>
                <li><strong>Bug Reports:</strong> bugs@truckerexpensetracker.com</li>
            </ul>
            <p>When reporting bugs, please include:</p>
            <ul style="margin: 20px 0; padding-left: 20px; color: var(--text-light);">
                <li>Steps to reproduce the issue</li>
                <li>Expected vs. actual behavior</li>
                <li>Device and browser information</li>
            </ul>
        </div>
    </div>

    <!-- FAQ Modal -->
    <div id="faq-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeFAQModal()">√ó</button>
            <h2>‚ùì Frequently Asked Questions</h2>
            
            <div class="faq-section">
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>What is the Trucker Expense Tracker?</span>
                        <span class="faq-toggle">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>The Trucker Expense Tracker is a Progressive Web App (PWA) designed specifically for owner-operator truck drivers to easily track expenses, manage receipts, and organize their business finances. It works offline and can be installed on your device like a native app.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>How do I install this app on my device?</span>
                        <span class="faq-toggle">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p><strong>Desktop:</strong> Look for an install icon in your browser's address bar and click it. <strong>Android:</strong> Tap the menu and select "Add to Home Screen". <strong>iOS:</strong> Tap the Share button in Safari and select "Add to Home Screen".</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Where is my data stored?</span>
                        <span class="faq-toggle">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>All your expense data is stored locally on your device using secure browser storage. We never collect, transmit, or store your personal information on external servers. Your data remains completely private and under your control.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Can I use this app without an internet connection?</span>
                        <span class="faq-toggle">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes! Once installed, the app works completely offline. You can add expenses, view history, and generate reports without an internet connection. The app will sync any updates when you reconnect to the internet.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>How do I add a new expense?</span>
                        <span class="faq-toggle">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>On the "Today" tab, click on any expense category (like Fuel, Maintenance, etc.) to expand the form. Fill in the required information, upload a receipt if needed, and click "Save Expense". The expense will be automatically saved and included in your totals.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>How do I create a custom expense category?</span>
                        <span class="faq-toggle">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>Scroll down to the "Add New Category" section on the Today tab. Enter a category name, choose an icon (or select "No Icon"), select whether it's a fixed or variable cost, and click "Add Category". Your custom category will appear with the other expense categories.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>How do I backup my data?</span>
                        <span class="faq-toggle">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>Use the "Export CSV" button to download your expense data as a spreadsheet file. You can also use "Export PDF" to create formatted reports. Save these files to your preferred cloud storage service (Google Drive, Dropbox, etc.) for backup.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Can I print my expense reports?</span>
                        <span class="faq-toggle">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes! Each section (Today, History, Insights) has a "Print" button that will generate a clean, professional printout of your expense data. You can also use "Export PDF" to save a digital copy.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>What does the Insights section show?</span>
                        <span class="faq-toggle">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>The Insights section provides visual analytics of your spending patterns, including total expenses, daily averages, fixed vs. variable costs, and a breakdown chart by category. You can filter insights by date range to analyze specific periods.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>How do I upload receipts?</span>
                        <span class="faq-toggle">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>When adding an expense, scroll down to the "Receipt" section and click "Click to upload receipt". Select an image file from your device. The receipt will be compressed and stored locally with your expense record.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>How do I update the app?</span>
                        <span class="faq-toggle">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>As a Progressive Web App, updates are automatic. Simply close and reopen the app, or refresh the browser tab, and the latest version will load automatically. No manual updates are required.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>I found a bug or have a feature request. How do I report it?</span>
                        <span class="faq-toggle">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>Click the "Feedback" button at the bottom of the Today section to access our contact information. Please provide detailed information about bugs (steps to reproduce, expected vs. actual behavior) or feature requests (description and how it would help your business).</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Chart.js Library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        // Global variables
        let expenses = JSON.parse(localStorage.getItem('truckerExpenses')) || [];
        let customCategories = JSON.parse(localStorage.getItem('customCategories')) || [];
        let selectedIcon = 'üì¶';
        let currentTheme = localStorage.getItem('theme') || 'light';
        let expenseChart = null;

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            applyTheme();
            loadCustomCategories();
            updateSummary();
            showHistory();
            showInsights();
            
            // Register service worker
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('./sw.js')
                    .then(registration => console.log('SW registered'))
                    .catch(error => console.log('SW registration failed'));
            }
        });

        // Theme functions
        function toggleTheme() {
            currentTheme = currentTheme === 'light' ? 'dark' : 'light';
            localStorage.setItem('theme', currentTheme);
            applyTheme();
        }

        function applyTheme() {
            document.documentElement.setAttribute('data-theme', currentTheme);
            const themeToggle = document.querySelector('.theme-toggle');
            themeToggle.textContent = currentTheme === 'light' ? 'üåô' : '‚òÄÔ∏è';
        }

        // Navigation functions
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionName).classList.add('active');
            
            // Update navigation
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.closest('.nav-btn').classList.add('active');
            
            // Update content based on section
            if (sectionName === 'history') {
                showHistory();
            } else if (sectionName === 'insights') {
                showInsights();
            }
        }

        // Expense form functions
        function toggleExpenseForm(category) {
            const form = document.getElementById(category + '-form');
            const card = form.closest('.expense-card');
            
            // Close all other forms
            document.querySelectorAll('.expense-form').forEach(f => {
                if (f !== form) {
                    f.classList.remove('active');
                    f.closest('.expense-card').classList.remove('expanded');
                }
            });
            
            // Toggle current form
            form.classList.toggle('active');
            card.classList.toggle('expanded');
        }

        function saveExpense(category) {
            const form = document.getElementById(category + '-form');
            const inputs = form.querySelectorAll('input, select, textarea');
            const expense = {
                id: Date.now(),
                category: category,
                date: new Date().toISOString().split('T')[0],
                timestamp: new Date().toISOString(),
                data: {}
            };
            
            // Collect form data
            inputs.forEach(input => {
                if (input.type === 'file') return;
                expense.data[input.placeholder || input.name || 'field'] = input.value;
            });
            
            // Validate required fields
            const amountInput = form.querySelector('input[type="number"]');
            if (!amountInput.value || parseFloat(amountInput.value) <= 0) {
                alert('Please enter a valid amount.');
                return;
            }
            
            expense.amount = parseFloat(amountInput.value);
            
            // Handle receipt
            const receiptPreview = form.querySelector('.receipt-preview img');
            if (receiptPreview) {
                expense.receipt = receiptPreview.src;
            }
            
            // Save expense
            expenses.push(expense);
            localStorage.setItem('truckerExpenses', JSON.stringify(expenses));
            
            // Reset form
            inputs.forEach(input => {
                if (input.type !== 'file') input.value = '';
            });
            form.querySelector('.receipt-preview').innerHTML = '';
            
            // Close form
            form.classList.remove('active');
            form.closest('.expense-card').classList.remove('expanded');
            
            // Update summary
            updateSummary();
            
            // Show success message
            showNotification('Expense saved successfully!', 'success');
        }

        // Receipt handling
        function handleReceiptUpload(input, previewId) {
            const file = input.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const preview = document.getElementById(previewId);
                preview.innerHTML = `<img src="${e.target.result}" alt="Receipt">`;
            };
            reader.readAsDataURL(file);
        }

        // Custom category functions
        function toggleIconList() {
            const iconList = document.getElementById('icon-list');
            iconList.classList.toggle('active');
        }

        function selectIcon(icon, name) {
            selectedIcon = icon;
            const selectedIconElement = document.getElementById('selected-icon');
            selectedIconElement.textContent = icon ? `${icon} ${name}` : name;
            document.getElementById('icon-list').classList.remove('active');
        }

        function addCustomCategory() {
            const nameInput = document.getElementById('custom-category-name');
            const costTypeSelect = document.getElementById('custom-cost-type');
            
            if (!nameInput.value.trim()) {
                alert('Please enter a category name.');
                return;
            }
            
            const customCategory = {
                id: Date.now(),
                name: nameInput.value.trim(),
                icon: selectedIcon,
                costType: costTypeSelect.value
            };
            
            customCategories.push(customCategory);
            localStorage.setItem('customCategories', JSON.stringify(customCategories));
            
            // Reset form
            nameInput.value = '';
            selectedIcon = 'üì¶';
            document.getElementById('selected-icon').textContent = 'üì¶ Click to choose an icon';
            costTypeSelect.value = 'Variable';
            
            // Reload categories
            loadCustomCategories();
            
            showNotification('Custom category added successfully!', 'success');
        }

        function loadCustomCategories() {
            // This function would dynamically add custom categories to the UI
            // For now, we'll keep it simple and just store them
        }

        // Summary functions
        function updateSummary() {
            const today = new Date().toISOString().split('T')[0];
            const todayExpenses = expenses.filter(expense => expense.date === today);
            const totalExpenses = expenses.reduce((sum, expense) => sum + expense.amount, 0);
            const dailyTotal = todayExpenses.reduce((sum, expense) => sum + expense.amount, 0);
            
            document.getElementById('daily-total').textContent = `$${dailyTotal.toFixed(2)}`;
            document.getElementById('total-expenses').textContent = `$${totalExpenses.toFixed(2)}`;
        }

        // History functions
        function showHistory() {
            const historyList = document.getElementById('history-list');
            
            if (expenses.length === 0) {
                historyList.innerHTML = '<p style="text-align: center; color: var(--text-light); padding: 40px;">No expenses recorded yet.</p>';
                return;
            }
            
            const sortedExpenses = [...expenses].sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
            
            historyList.innerHTML = sortedExpenses.map(expense => `
                <div class="expense-item">
                    <div class="expense-details">
                        <h4>${getCategoryName(expense.category)}</h4>
                        <p>${expense.date} ‚Ä¢ ${expense.data.Location || expense.data['Service Provider'] || 'No location'}</p>
                        <p>${expense.data.Notes || 'No notes'}</p>
                    </div>
                    <div class="expense-amount">$${expense.amount.toFixed(2)}</div>
                </div>
            `).join('');
        }

        function applyHistoryFilter() {
            const fromDate = document.getElementById('filter-from').value;
            const toDate = document.getElementById('filter-to').value;
            
            let filteredExpenses = [...expenses];
            
            if (fromDate) {
                filteredExpenses = filteredExpenses.filter(expense => expense.date >= fromDate);
            }
            
            if (toDate) {
                filteredExpenses = filteredExpenses.filter(expense => expense.date <= toDate);
            }
            
            const historyList = document.getElementById('history-list');
            
            if (filteredExpenses.length === 0) {
                historyList.innerHTML = '<p style="text-align: center; color: var(--text-light); padding: 40px;">No expenses found for the selected date range.</p>';
                return;
            }
            
            const sortedExpenses = filteredExpenses.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
            
            historyList.innerHTML = sortedExpenses.map(expense => `
                <div class="expense-item">
                    <div class="expense-details">
                        <h4>${getCategoryName(expense.category)}</h4>
                        <p>${expense.date} ‚Ä¢ ${expense.data.Location || expense.data['Service Provider'] || 'No location'}</p>
                        <p>${expense.data.Notes || 'No notes'}</p>
                    </div>
                    <div class="expense-amount">$${expense.amount.toFixed(2)}</div>
                </div>
            `).join('');
        }

        function clearHistoryFilter() {
            document.getElementById('filter-from').value = '';
            document.getElementById('filter-to').value = '';
            showHistory();
        }

        // Insights functions
        function showInsights() {
            const fromDate = document.getElementById('insights-filter-from')?.value;
            const toDate = document.getElementById('insights-filter-to')?.value;
            
            let filteredExpenses = [...expenses];
            
            if (fromDate) {
                filteredExpenses = filteredExpenses.filter(expense => expense.date >= fromDate);
            }
            
            if (toDate) {
                filteredExpenses = filteredExpenses.filter(expense => expense.date <= toDate);
            }
            
            const totalExpenses = filteredExpenses.reduce((sum, expense) => sum + expense.amount, 0);
            const uniqueDates = [...new Set(filteredExpenses.map(expense => expense.date))];
            const dailyAverage = uniqueDates.length > 0 ? totalExpenses / uniqueDates.length : 0;
            
            // For now, we'll assume all expenses are variable costs
            const fixedCosts = 0;
            const variableCosts = totalExpenses;
            
            document.getElementById('insights-total').textContent = `$${totalExpenses.toFixed(2)}`;
            document.getElementById('insights-average').textContent = `$${dailyAverage.toFixed(2)}`;
            document.getElementById('insights-fixed').textContent = `$${fixedCosts.toFixed(2)}`;
            document.getElementById('insights-variable').textContent = `$${variableCosts.toFixed(2)}`;
            
            updateExpenseChart(filteredExpenses);
        }

        function applyInsightsFilter() {
            showInsights();
        }

        function clearInsightsFilter() {
            document.getElementById('insights-filter-from').value = '';
            document.getElementById('insights-filter-to').value = '';
            showInsights();
        }

        function updateExpenseChart(filteredExpenses) {
            const ctx = document.getElementById('expense-chart');
            if (!ctx) return;
            
            if (expenseChart) {
                expenseChart.destroy();
            }
            
            if (filteredExpenses.length === 0) {
                ctx.getContext('2d').clearRect(0, 0, ctx.width, ctx.height);
                const context = ctx.getContext('2d');
                context.font = '16px Arial';
                context.fillStyle = currentTheme === 'dark' ? '#94a3b8' : '#64748b';
                context.textAlign = 'center';
                context.fillText('No data to display', ctx.width / 2, ctx.height / 2);
                return;
            }
            
            const categoryTotals = {};
            filteredExpenses.forEach(expense => {
                const categoryName = getCategoryName(expense.category);
                categoryTotals[categoryName] = (categoryTotals[categoryName] || 0) + expense.amount;
            });
            
            const labels = Object.keys(categoryTotals);
            const data = Object.values(categoryTotals);
            const colors = generateColors(labels.length);
            
            expenseChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        backgroundColor: colors,
                        borderWidth: 2,
                        borderColor: currentTheme === 'dark' ? '#1e293b' : '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: currentTheme === 'dark' ? '#f1f5f9' : '#1e293b',
                                padding: 20
                            }
                        }
                    }
                }
            });
        }

        function generateColors(count) {
            const colors = [
                '#2563eb', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6',
                '#06b6d4', '#84cc16', '#f97316', '#ec4899', '#6366f1'
            ];
            
            const result = [];
            for (let i = 0; i < count; i++) {
                result.push(colors[i % colors.length]);
            }
            return result;
        }

        // Export functions
        function exportToPDF(section) {
            window.print();
        }

        function printSection(section) {
            window.print();
        }

        function exportToCSV(section) {
            let data = [];
            let filename = 'trucker-expenses';
            
            if (section === 'today') {
                const today = new Date().toISOString().split('T')[0];
                data = expenses.filter(expense => expense.date === today);
                filename += '-today';
            } else if (section === 'history') {
                const fromDate = document.getElementById('filter-from').value;
                const toDate = document.getElementById('filter-to').value;
                
                data = expenses;
                if (fromDate) data = data.filter(expense => expense.date >= fromDate);
                if (toDate) data = data.filter(expense => expense.date <= toDate);
                filename += '-history';
            } else if (section === 'insights') {
                const fromDate = document.getElementById('insights-filter-from').value;
                const toDate = document.getElementById('insights-filter-to').value;
                
                data = expenses;
                if (fromDate) data = data.filter(expense => expense.date >= fromDate);
                if (toDate) data = data.filter(expense => expense.date <= toDate);
                filename += '-insights';
            }
            
            if (data.length === 0) {
                alert('No data to export.');
                return;
            }
            
            // Create CSV content
            const headers = ['Date', 'Category', 'Amount', 'Description', 'Location'];
            const csvContent = [
                headers.join(','),
                ...data.map(expense => [
                    expense.date,
                    getCategoryName(expense.category),
                    expense.amount,
                    expense.data.Notes || '',
                    expense.data.Location || expense.data['Service Provider'] || ''
                ].map(field => `"${field}"`).join(','))
            ].join('\n');
            
            // Download CSV
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename + '.csv';
            a.click();
            window.URL.revokeObjectURL(url);
            
            showNotification('CSV exported successfully!', 'success');
        }

        // Modal functions
        function showFeedbackModal() {
            document.getElementById('feedback-modal').classList.add('active');
        }

        function closeFeedbackModal() {
            document.getElementById('feedback-modal').classList.remove('active');
        }

        function showFAQModal() {
            document.getElementById('faq-modal').classList.add('active');
        }

        function closeFAQModal() {
            document.getElementById('faq-modal').classList.remove('active');
        }

        function toggleFAQ(element) {
            const faqItem = element.closest('.faq-item');
            faqItem.classList.toggle('active');
        }

        // Utility functions
        function getCategoryName(category) {
            const categoryNames = {
                'fuel': 'Fuel',
                'maintenance': 'Maintenance & Repairs',
                'truck-payments': 'Truck/Trailer Payments',
                'insurance': 'Insurance Premiums',
                'licensing': 'Licensing & Permits',
                'tolls': 'Tolls & Parking',
                'lodging': 'Lodging',
                'meals': 'Meals',
                'communication': 'Communication & Technology',
                'office-supplies': 'Office Supplies',
                'truck-supplies': 'Truck Supplies',
                'association-dues': 'Association Dues',
                'taxes': 'Taxes Paid',
                'medical': 'Medical Exams'
            };
            
            return categoryNames[category] || category;
        }

        function showNotification(message, type = 'info') {
            // Simple notification system
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#10b981' : '#2563eb'};
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                z-index: 1001;
                font-weight: 600;
                max-width: 300px;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Close modals when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('active');
            }
        });

        // Close icon list when clicking outside
        document.addEventListener('click', function(e) {
            const iconPicker = document.querySelector('.icon-picker');
            const iconList = document.getElementById('icon-list');
            
            if (!iconPicker.contains(e.target)) {
                iconList.classList.remove('active');
            }
        });
    </script>
</body>
</html>

